<?php
if ( ! defined( 'ABSPATH' ) ) {
    exit;
}
?>
<!-- wp:group {"tagName":"header","align":"full","style":{"spacing":{"padding":{"top":"1rem","bottom":"1rem"},"margin":{"bottom":"0"},"blockGap":"0"},"border":{"bottom":{"color":"var(--em-border)","width":"1px","style":"solid"}}},"layout":{"type":"constrained"}} -->
<header class="wp-block-group alignfull" style="border-bottom:1px solid var(--em-border)">
  <!--
    Modern header layout: a flexible container with three sections.
    1. Branding on the left: site title and tagline.  
    2. Center navigation: WordPress navigation block styled as horizontal menu.  
    3. Actions on the right: language switcher, search, CTA button and darkâ€‘mode toggle.
    Flexbox ensures equal spacing and responsive wrapping on smaller screens.
  -->
  <!-- wp:group {"layout":{"type":"flex","flexWrap":"wrap","justifyContent":"space-between","verticalAlignment":"center"},"style":{"spacing":{"blockGap":"1rem"}}} -->
  <div class="wp-block-group" style="display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:1rem">
    <!-- Branding -->
    <!-- wp:group {"layout":{"type":"flex","verticalAlignment":"center"},"style":{"spacing":{"blockGap":"0.5rem"}}} -->
    <div class="wp-block-group" style="display:flex;align-items:center;gap:0.5rem">
      <!-- wp:paragraph {"style":{"typography":{"fontSize":"1.7rem","fontWeight":"700"}}} -->
      <p style="font-size:1.7rem;font-weight:700;color:var(--em-text);margin:0"><?php echo esc_html( get_bloginfo( 'name' ) ); ?></p>
      <!-- /wp:paragraph -->
      <!-- wp:paragraph {"style":{"typography":{"fontSize":"0.8rem"},"color":{"text":"var(--em-teal)"}}} -->
      <p style="font-size:0.8rem;color:var(--em-teal);margin:0"><?php echo esc_html( get_bloginfo( 'description' ) ); ?></p>
      <!-- /wp:paragraph -->
    </div>
    <!-- /wp:group -->

    <!-- Navigation -->
    <!-- wp:navigation {"overlayMenu":"never","layout":{"type":"flex","justifyContent":"center"},"style":{"spacing":{"blockGap":"1.5rem"}},"fontSize":"small","ariaLabel":"<?php echo esc_attr__( 'Primary navigation', 'emindy' ); ?>"} /-->

    <!-- Action items -->
    <!-- wp:group {"layout":{"type":"flex","verticalAlignment":"center","justifyContent":"right"},"style":{"spacing":{"blockGap":"0.75rem"}}} -->
    <div class="wp-block-group" style="display:flex;align-items:center;gap:0.75rem">
      <!-- Language switcher (Polylang) -->
      <!-- wp:shortcode -->
      [em_lang_switcher dropdown="1" show_names="1" show_flags="0"]
      <!-- /wp:shortcode -->

      <!-- Search: use WordPress search block with custom placeholder and style tokens for dark/light mode -->
      <!-- wp:search {"label":"<?php echo esc_attr__( 'Search eMINDy', 'emindy' ); ?>","showLabel":false,"buttonUseIcon":true,"placeholder":"<?php echo esc_attr__( 'Searchâ€¦', 'emindy' ); ?>","style":{"border":{"radius":"12px"}},"backgroundColor":"em-card"} /-->

      <!-- CTA button -->
      <!-- wp:button {"className":"is-style-fill","fontSize":"small"} -->
      <div class="wp-block-button is-style-fill has-custom-font-size has-small-font-size">
        <a class="wp-block-button__link" href="<?php echo esc_url( home_url( '/start-here/' ) ); ?>" style="background:var(--em-gold);color:var(--em-bg);padding:0.5rem 0.9rem;border-radius:999px;font-weight:600;text-decoration:none"><?php echo esc_html__( 'Start Here', 'emindy' ); ?></a>
      </div>
      <!-- /wp:button -->

      <!-- Dark mode toggle: accessible button toggled via JS -->
      <!-- wp:html -->
      <button id="em-dark-mode-toggle" class="em-dark-mode-toggle" aria-label="<?php echo esc_attr__( 'Toggle dark mode', 'emindy' ); ?>" data-light-label="<?php echo esc_attr__( 'Enable dark mode', 'emindy' ); ?>" data-dark-label="<?php echo esc_attr__( 'Disable dark mode', 'emindy' ); ?>" style="font-size:1.2rem;line-height:1;background:transparent;border:none;color:var(--em-text);cursor:pointer" type="button">ðŸŒ™</button>
      <!-- /wp:html -->
    </div>
    <!-- /wp:group -->

  </div>
  <!-- /wp:group -->
</header>
<!-- /wp:group -->
